
\chapter{\label{cha: Graph Transformation Approach }Graph Transformation Approach}

\section{ Introduction }
i will show in this chapter my work which is Optimise Multi Agent system  
represented in OMACS Framework , but the problem is OMACS does not have any 
Any algorithm to do that 

Because of That i represent the second Frameword PNS which contain an Algorithm 
to find the optimum structure .

so we need to work on th Transformation from OMACS MODEL into PNS MODEL



 
\section{model and Meta-Model }
What is Metamodeling 

Meta \quad means literally After in Greek.
n Computer Science, the term is used heavily and with
several different meanings : 
\begin{enumerate}
\item In Databases, metadata means  data about data  and
		refer to data dictionaries, repositories, etc.
\item In Programming Languages, metainterpreter is an
		interpreter of a (program) interpreter
\item In Conceptual Modeling, metamodel is a model of a
		data model, e.g., an E-R model of the relational model,
		or an ER model of the ER model.
		
\end{enumerate}
 
Data is modelled by metadata (schemas,  classes,...)
which are parts of the metamodel; these units are
instances of meta 2 data which are parts of a
metametamodel
[from:REF/other/Meta]



Meta-Modelling, which is the process of modelling formalisms. 

Formalisms are described as models described in meta-formalisms. 

The latter are nothing  
but expressive enough formalisms, such as Entity Re-
lationship diagrams (ER) or UML class diagrams.

A model of a meta-formalism is called a meta-meta-
model; a model of a formalism is called a meta-model.
[from:REF//other/Meta-modelling and graph grammars for multi-paradigm modelling in AToM 3]

\subsection{Architercteur of Meta-Modeling}
The traditional meta-model architecture proposed by OMG is based on 4 Levels
described in this Figure \ref{fig:Pyramid of Meta-Level} .

\begin{enumerate}
\item \textbf{Model} is a simplified abstraction of a studied system, constructed in a
Particular intent. 

It should be able to be used to answer questions about the system

A system is a theoretical construct formed by the mind on a subject
Example, an idea that is implemented to explain a physical phenomenon that can
be represented by a mathematical model) 

\item \textbf{Meta Model} is a language that expresses models. It defines
Concepts as well as the relations between concepts necessary for the expression of models . 
A model is a possible construction of the metamodel in which it is defined.

In the Literature, a model is said to conform to the metamodel in which it is defined

\item \textbf{Meta Meta Model} is a language used to express metamodels. 
For Ability to interpret a meta-model requires a description of the language in which
It is written: a meta-model for meta-models. 
It is, of course, Meta-model by the term meta-meta-model  . 

To limit the  Number of levels of abstraction, the meta-meta-model 
must have the ability to describe itself, even. 
 

\end{enumerate}

MOF : (Meta-Object Facility) is set of Interfaces allow to define 
the syntax and semantic of modilisation language , is devloped by OMG

\begin{figure}[th]
	\centering
		\includegraphics{chapiter3/img/Pyramid}
	\caption{\label{fig:Pyramid of Meta-Level}Pyramid of Meta-Level}
\end{figure} 



\section{Transformation Model}


\subsection{Definition}
A transformation is the automatic generation of a target model from a
Source model, according to a transformation definition. 

A definition of transformation Is a set of transformation rules 
that describes how a source model
Can be transformed into a target model

 the transformation of the model is
For mapping models across domains to analyze or
The automatic generation of code from themselves

\section{Norme of Transformation } 
 The process of graph transformation consists in the iterative application of
Rule to a graph.

 Each rule application replaces a part of the graph by a
As defined in the rule. 

The mechanics of the graph transformation
Works as follows: 
\begin{enumerate}
\item select an applicable rule from the set of rules;
\item Apply this rule to the input graph;

\item Search for another applicable rule  
\item do these steps Until  no rule can be applied

\end{enumerate}

 
This operation is based on a
A set of rules respecting a particular syntax, called the grammar model of
Graph

before starting apply rules we execute initial action , 
its prepare the envirenement to apply these rules
and ending with Final Action , it about cleaning the after these rules

\begin{figure}[th]
	\centering
		\includegraphics[scale=0.8]{chapiter3/img/gt}
	\caption{\label{fig:Cycle of Tranformation}Cycle of Transformation}
\end{figure} 

 
\section{Graph Grammar} 
Every Graph Grammer contain a set of rules  to use in graph transformation
and its define by :
R = (LHS, RHS, K, glue, emb, cond). 
\begin{itemize}
 
\item LHS graph of left part.
\item RHS graph of right part.
\item A subgraph K of LHS.
\item A glue occurrence of K in RHS that connects the subgraph with the part graph  right.
\item An embedding relation emb which connects the vertices of the graph on the left-hand side
And those of the graph on the right-hand side.
\item A set cond which indicates the conditions of application of the rule
\end{itemize}

Applying a rule R = (LHS, RHS, K, glue, emb, cond) to a graph G produced in
Result a graph H according to the following five steps

\begin{figure}[th]
	\centering
		\includegraphics{chapiter3/img/r}
	\caption{\label{fig:Rule Application}Rule Application}
\end{figure} 

\begin{enumerate}
\item  Choose an instance of the left-hand LHS graph in G.
\item Check the conditions of application according to Cond.
\item Remove the occurrence of LHS (up to K) from G and the hanging arcs (all
Arcs having lost their sources and / or their destinations). This provides the graph of
Context D of LHS which left an occurrence of K
\item
Paste the context graph D and the RHS right-hand graph according to the occurrence
Of K in k = 1, .., $\infty$ D and in RHS, it is the construction of the union of disjunction
Of D and RHS, and for each point in K, identify the corresponding point in
D with the corresponding point in RHS
\item
Press the right-hand graph in the LHS context graph following the
Embedding relation emb: for each incident arc removed with a vertex v in
D and with a vertex v1 in the occurrence of LHS in G, and for each vertex
V2 in RHS, a new incident arc is established (same label) with the image of v
And the vertex v2 provided that (v1 , v2 ) belongs to emb. 
\end{enumerate}


 
\section{ Transformation system } 

We define a graph transformation system as a rewriting system
Of graph that applies the rules of the graph grammar on its initial graph of
Iteratively by the Engine , until no more rules are applicable

\begin{enumerate}
\item Define the  source and target Meta-Model 
\item Create the the source model according to the source Meta-Model 
\item Define transformation rules to Transform from source model into target model 
\end{enumerate}
Finally the engine read source model and apply the transformation rules ans write target model
as the following Figure \ref{fig:Transformation System}
 

\begin{figure}[th]
	\centering
		\includegraphics{chapiter3/img/sys}
	\caption{\label{fig:Transformation System}Transformation System}
\end{figure} 
 
\pagebreak

\section{AToM $^{3}$}

AToM$^{3}$ (A Tool for Multi-formalism and Meta-Modeling) is a tool for model-
Multi-paradigm model developed in the MSDL (Modeling, Simulation and
Design Lab) of the Computer Science Institute at McGill University Montreal, Canada.

It is Developed with the Python language in collaboration with Professor Juan de Lara de
The Autonomous University of Madrid (UAM), Spain  
AToM3 is developed to satisfy two main features that are 
\begin{enumerate}
\item Meta-modeling 
\item The transformation of models
\end{enumerate}

The formalisms and models in AToM3 are described graphically. 
From a Meta-specification (example: in the Entity-relation formalism) of a formalism, AToM3
Generates a tool to visually manipulate (create and modify) the models described in
The specified formalism.

 The transformations of the models are realized by the rewriting
Graphs, which can be expressed in a declarative way as a model of
Grammar of graphs

 figure \ref{fig:AToM3 Window} illustrates the interface of AToM3 

\begin{figure}[th]
	\centering
		\includegraphics[scale=0.4]{chapiter3/img/atom3}
	\caption{\label{fig:AToM3 Window}AToM $^{3}$ Window}
\end{figure} 
\subsection{Classes in AToM$^{3}$ }
In this work we use ClassDiagramm Formalism to create  our Formalism 
or Meta-Model is built in the tool so we can load it and use  it
 
In AToM$^{3}$ the meta-models can be constructed from Classes and
Relationships.

The description of classes and association relations consists of

\begin{itemize}
\item  Name
\item  Attributes
\item  Constraints
\item  Action
\item  Cardinalities
\item  Appearance
\end{itemize}

\begin{figure}[th]
	\centering
		\includegraphics[scale=0.5]{chapiter3/img/class}
	\caption{\label{fig:Class Editor}Class Editor}
\end{figure} 
\subsubsection{ Constraint }

Constraints can be specified as OCL (Constraint Object Language) or Python
They have the following properties: 
\begin{itemize}
\item  constraint name
\item  triggering event  like Drag , Move , Select ..
and launch this event before (pre-condition) or after (post-condition)
 
\end{itemize}
 

\begin{figure}[th]
	\centering
	\includegraphics[scale=0.4]{chapiter3/img/cont}
	\caption{\label{fig:Constraint Editor}Constraint Editor}
\end{figure} 
\pagebreak
\subsubsection{ Action }

An action is similar to a constraint except that it has other effects and is a
Code in Pyton only

They have the following properties :
\begin{itemize}
\item action name
\item triggering event: It can be either
	\begin{enumerate}
	\item Semantics such as saving a model
	\item Graphic or structural, such as moving or selecting an entity.
	\end{enumerate}
	
\item The execution is either
	\begin{enumerate}
	\item Before the event (precondition)
	\item  After (pots-condition) 
	\end{enumerate}

\end{itemize}
its have the same windows \ref{fig:Constraint Editor}  


\section{ Graph Grammer in AToM $^{3}$ }
In AToM3, grammar is a model characterized by
\begin{itemize}
\item An initial action.
\item A final action.
\item The set of rules. 
\end{itemize}
and this figure \ref{fig:Graph Grammar Window} Graph Grammar Editor
 
\begin{figure}[th]
	\centering 
	\includegraphics[scale=0.5]{chapiter3/img/gg}
	\caption{\label{fig:Graph Grammar Window}Graph Grammar Window}
\end{figure} 
 

 Each rule consists of: 
\begin{itemize}
\item  A specific name for the rule.
\item  A priority indicating the order in which the rule is applied.
\item  A Left Hand Side (LHS) which is a graph.
\item  A right hand side (RHS) that can be a graph.
\item  A condition (Pyton code) that must be checked before the rule is
Applied.
\item An action (a Pyton code) that must be executed after the rule is
Applied
\end{itemize}


The rule editor figure \ref{fig:Rule Editor} allows the editing of the different parts of the rule as well as
The condition and action of each rule 
 
 The condition editor and the action editor of a rule are similar to the editor of
Constraints presented in Figure \ref{fig:Constraint Editor}


\begin{figure}[th]
	\centering
 	\includegraphics[scale=0.4]{chapiter3/img/rule}
	\caption{\label{fig:Rule Editor}Rule Editor}
\end{figure} 
 


 

\section{Implementation of the Transformation }% Our Work
To Transform OMACS Model into PNS Model should we start to :
\begin{enumerate}
\item Define OMACS Meta-Model 
\item Define PNS Meta-Model
\item Define the rules of Transformation
\end{enumerate}


\subsection{ Meta-Model of OMACS  and PNS } 
Before start create our Meta-Model should load the Class Diagramm ToolBar ,
in OMACS Meta-Model contain set of classes :

\begin{itemize}

\item Agent  
\item Capabilities
\item Role
\item Goal

\end{itemize}
 
\begin{figure}[th]
		\centering
 	\includegraphics[scale=1.3]{chapiter3/img/omacs}
	\caption{\label{fig:OMACS Meta-Model}OMACS Meta-Model}
\end{figure} 
 
figure \ref{fig:OMACS Meta-Model} illustrate OMACS Meta-Model  contain 4 classes 
and 4 relation   
the Attribute Name in the classes represent the name of current node ,
and the rate attribute in the relation represent  the percentage between two node .

For example between an Agent and Capabilities its means how mush this Agent possese this capibilites

\pagebreak

the Same Steps should load the Class Diagramm first to create PNS Meta-Model , and its contain 4 classes and Relation
represent  : 
\begin{itemize}
	\item Raw Material  
	\item Intermediare Material
	\item Final Product
	\item Operating Unit
\end{itemize}

\begin{figure} 
	\centering
 	\includegraphics[scale=0.5]{chapiter3/img/a}
	\caption{\label{fig:PNS Meta-Model}PNS Meta-Model}
\end{figure} 

all material in figure \ref{fig:PNS Meta-Model} containt the same Attribute
\begin{itemize}


\item \textit{Name} : name of Material 
\item \textit{Price} : Price of Material
\item \textit{ReqFlow} : Requirment Flow means how much you have from this material in this system
\item \textit{MaxFlow} : Maximum Flow means how much your system can handle

\end{itemize}



and for the Operating Unit contain 3 Attribute : 
\begin{itemize}

\item Name : name of this Task 
\item Operating Cost Fix  : cost for entire period ,  Example for Entire year
\item Operating Cost Propotinal  :  cost for every Operating from this unit

\end{itemize}
 


\subsection{ Model in OMACS and PNS }

Starting from this  \ref{fig:OMACS Meta-Model} Meta-Model , $AToM^3$ generate a ToolBar of OMACS  , this toolbar 
allow us to create our OMACS Model (Multi Agent System)

\begin{figure}[th]
		\centering
 	\includegraphics[scale=0.5]{chapiter3/img/omacsMDL}
	\caption{\label{fig:OMACS Model}ToolBar for OMACS Generated by $AToM^3$ }
\end{figure} 

Example in this figure \ref{fig:OMACS Model} represent a Multi Agent system which is 
a component of 2 agent and 3 Capabilities , 2 Roles , 2 Goals






its Also the same  $AToM^3$ generate a ToolBar of PNS , load it and use it like this \ref{fig:PNS Model}

\begin{figure}[th]
	\centering
 	\includegraphics[scale=0.5]{chapiter3/img/pnsMDL}
	\caption{\label{fig:PNS Model}ToolBar for PNS Generated by $AToM^3$}
\end{figure} 

represent system de production contain 2 raw material and 2 intermediate material , final product
and 2 operating unit 

\pagebreak
\subsection{ Rule of Transformation }
A grammar of graphs is a grammar consisting of a set of rules, per-
Transforming formalisms of the same nature or of a different nature. 

Each Rule is composed of two parts, the left part (LHS) and the right part (RHS).
Each part can be a subgraph of the formalisms considered in the transformation

in our work, the formalisms considered in the transformation are formalism
OMACS as source graph to be transformed into PNS a transformation target graph.
This grammar is defined using the AToM3 tool according to the following step

\begin{enumerate}
	\item Load OMACS and PNS meta-models
	\item Create the transformation grammar
	\item Define the rules of grammar
	\item Generate the executable file of the grammar
\end{enumerate}
 
\subsubsection{ Graph Grammar }
Our grammar is composed of :
\begin{description}

\item [{Rules :}]  

Each rule is characterized
By a name and execution priority. They are classified in 04 categories

\end{description}

\begin{enumerate}
\item Rules for Collect and create relation between some entitie
\item Rules for transforming nodes or links into materials or operating units .
\item Rules to links generated materials and operating units
\item Rules to cleaning unnecessary entities from the result 

\end{enumerate}
I summarized the transformation into the following steps  

\begin{itemize}

\item create link between the agent and role depending on the common capabilites

\item generate for every agent in OMACS Model into raw material in PNS Model
and the generated material has the same name and price 

\item generate for every goal in OMACS Model into intermediate material in PNS Model and the generated material has the same name  


\item the product in the target graph which is PNS Model represent the organization of the OMACS Model

\item create Operating unit for each direct link between the role and an agent 

\item link the material was generated from goal with final product by operating unit

\end{itemize}

  
\pagebreak

Here are the most important rules:  

\paragraph{\emph{1)~Create the direct link  between the Agent and the Role (order1) :} }
 
Figure\ref{fig:Create link between Agent and Role} show us how to create link 
between the agent and role depending on commun capabilities , order 1 mean is the first rule applied in the grammar. 
\vspace{1cm}
\begin{figure}[th]
\centering
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.8\linewidth]{chapiter3/img/L1}
  LHS
  \end{center}
  
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.8\linewidth]{chapiter3/img/R1}
  RHS 
  \end{center}
\end{minipage}
\caption{\label{fig:Create link between Agent and Role}Create link between Agent and Role} 
\end{figure}
 

\paragraph{\emph{2)~Transform Agent to RawMaterial (order5) :} }
 
 
Application Of this rule (figure \ref{fig:Generate for each agent raw material}) 
makes it possible to transform  every Agent in Multi Agent System into raw material 
has the same name and price  .
\vspace{1cm}
\begin{figure}[th]
\centering
\begin{minipage}{.4\textwidth}
  \begin{center}
  \includegraphics[width=.8\linewidth]{chapiter3/img/L2}
  LHS
  \end{center}
  
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.8\linewidth]{chapiter3/img/R2}
  RHS 
  \end{center}
\end{minipage}
\caption{\label{fig:Generate for each agent raw material}Generate for each agent raw material} 
\end{figure}
\vspace{1cm}

%% ------------------------------------------------------------------------------------------------ order 7 
\paragraph{\emph{3)~Transform Link between Agent and Role into Operating Unit (order7) :} }
 
 
This rule (Figure \ref{fig:Operating Unit for every link capable of playing}) allows Transform 
the relation capable of playing between an agent and role  into operating unit
\vspace{1cm}
\begin{figure}[th]
\centering
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.8\linewidth]{chapiter3/img/L3}
  LHS
  \end{center}
  
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.8\linewidth]{chapiter3/img/R3}
  RHS 
  \end{center}
\end{minipage}
\caption{\label{fig:Operating Unit for every link capable of playing}Operating Unit for every link capable of playing} 
\end{figure}


%% ------------------------------------------------------------------------------------------------ order 9 
\paragraph{\emph{4)~Transform Goal to intermediate material (order9) :} }
 
 
This rule (Figure \ref{fig:Transform Goal to intermediate material}) 
show us how Transform  an goal MaS into intermediate material in process system

\vspace{1cm}
\begin{figure}[th]

\centering
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.8\linewidth]{chapiter3/img/L4}
  LHS
  \end{center}
  
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.8\linewidth]{chapiter3/img/R4}
  RHS 
  \end{center}
\end{minipage}
\caption{\label{fig:Transform Goal to intermediate material}Transform Goal to intermediate material}
 
\end{figure}
 
%% ------------------------------------------------------------------------------------------------ order 10 
\paragraph{\emph{5)~Create the Product node (order10) :} }
 
 
This rule (Figure \ref{fig:Create the final material} ) 
it is to create the final material stat in the system like you notice the LHS is empty
because this rule applied for one time 


\vspace{1cm}
\begin{figure}[th]
\centering
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.6\linewidth]{chapiter3/img/L5}
  LHS
  \end{center}
  
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.6\linewidth]{chapiter3/img/R5}
  RHS 
  \end{center}
\end{minipage}
\caption{\label{fig:Create the final material}Create the final material}
 
\end{figure}
\vspace{1cm}

%% ------------------------------------------------------------------------------------------------ order  13
\paragraph{\emph{6)~Generate auxiliary part  (order 13) :} }
 
 
This rule (Figure \ref{fig:Generate auxiliary part}) 
generate the auxiliary part which is intermediate material consumed by operating unit
and that for every agent capable to playing role in order to achieve a specific goal
\vspace{1cm}
\begin{figure}[th]
\centering
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.6\linewidth]{chapiter3/img/L6}
  LHS
  \end{center}
  
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.9\linewidth]{chapiter3/img/R6}
  RHS 
  \end{center}
\end{minipage}
\caption{\label{fig:Generate auxiliary part} Generate auxiliary part}
 
\end{figure}
\vspace{1cm}




%% ------------------------------------------------------------------------------------------------ order  15
\paragraph{\emph{7)~Create Operating unit between  goal material  and the product (order 15) :} }
 
 
This rule (Figure \ref{fig:Create Operating unit between  goal and OAF}) 
create operating unit to link the final material with the goals material  
\vspace{1cm}
\begin{figure}[th]
\centering
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.7\linewidth]{chapiter3/img/L7}
  LHS
  \end{center}
  
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.7\linewidth]{chapiter3/img/R7}
  RHS 
  \end{center}
\end{minipage}
\caption{\label{fig:Create Operating unit between  goal and OAF}Create Operating unit between  goal and OAF}
 
\end{figure}
\vspace{1cm}




%% ------------------------------------------------------------------------------------------------ order  19
\paragraph{\emph{8)~Create link between auxiliary part and  goal material  (order 19) :} }
 
 
This rule (Figure \ref{fig:link between auxiliary part and goal}) describe 
how to link the auxiliary part with right goal  
\vspace{1cm}
\begin{figure}[th]
\centering
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.7\linewidth]{chapiter3/img/L8}
  LHS
  \end{center}
  
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.7\linewidth]{chapiter3/img/R8}
  RHS 
  \end{center}
\end{minipage}
\caption{\label{fig:link between auxiliary part and goal}link between auxiliary part and goal}
 
\end{figure}

\vspace{1cm}
%% ------------------------------------------------------------------------------------------------ order  20
\paragraph{\emph{9)~Create link to consume the raw material by operating unit  (order 20) :} }
 
 
This Figure \ref{fig:consume the raw material by operating unit}  illustrate  how to create arc between 
the raw material was generated from an agent and the operating unit

 
\vspace{1cm}
\begin{figure}[th]
\centering
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.7\linewidth]{chapiter3/img/L9}
  LHS
  \end{center}
  
\end{minipage}%
\begin{minipage}{.5\textwidth}
  \begin{center}
  \includegraphics[width=.7\linewidth]{chapiter3/img/R9}
  RHS 
  \end{center}
\end{minipage}
\caption{\label{fig:consume the raw material by operating unit} consume the raw material by operating unit}
 
\end{figure}
\vspace{1cm}

after that you notice some key word in  :
\begin{itemize}
\item Left hand side
	\begin{enumerate}
	\item ANY : its attribue in the node and the engine will select every node with ANY attribute value
	\end{enumerate}
\item  Right hand side
	\begin{enumerate}
	\item COPIED : copie the attribue value from the node with same GGLabel in LHS
	\item SPECIFIED : specified the attribue value manualy or by code 
	\end{enumerate}
\end{itemize}

\pagebreak
you know  every rule have condition , the figures illustrate 3 condition for 3 rule 

 
\paragraph{\emph{1)~for the rule \ref{fig:Create link between Agent and Role} } } 
 : 
\vspace{0.5cm}
that condition test if there node agent , role visited before 
In order not to fall in infinity loop 

\vspace{0.5cm}
\begin{figure}[th]
	\centering
 	\includegraphics[scale=0.5]{chapiter3/img/condrule1}
	\caption{\label{fig:Condition link agent with role}Condition link agent with role  }
\end{figure} 

\paragraph{\emph{2)~Condition for rule \ref{fig:Create the final material} } } 
 
\vspace{0.5cm}
that condition test if this attribute Final stat equal zero 
, in other word we did not visite this rule before 
 
\vspace{0.5cm}
\begin{figure}[th]
	\centering
 	\includegraphics[scale=0.5]{chapiter3/img/condfinal}
	\caption{\label{fig:Condition of generate final stat } Condition of generate final stat }
\end{figure} 


\vspace{0.5cm}

\paragraph{\emph{3)~Condition for rule \ref{fig:link between auxiliary part and goal} } } 
  
\vspace{0.5cm}
test if we did not visited before  and the name of Auxiliary Part end with goal name to link it with the right goal material
 
 
\vspace{0.5cm}
\begin{figure}[th]
	\centering
 	\includegraphics[scale=0.5]{chapiter3/img/condaux}
	\caption{\label{fig:Condition of Auxiliary part}Condition of Auxiliary part  }
\end{figure} 





\pagebreak
\subsection{ Examples }

\subsubsection{ Simple multi Agent System }
This example represents a very simple system composed of  two agent and 3 capabilities , 2 role and 2 goals  .
 Figure \ref{fig:Example 1 Multi Agent System } illustrates this example :
\begin{figure}[th]
	\centering
 	\includegraphics[scale=0.5]{chapiter3/img/ex1omacs}
	\caption{\label{fig:Example 1 Multi Agent System }Example 1 Multi Agent System}
\end{figure} 


The purpose of this example is to demonstrate the transformation of multi agent system in OMACS into pns model

Figure \ref{fig:Multi Agent System After transformation } shows the transformation result.
It is clear that the resulting contain set of material and operating unit
\begin{itemize}
\item the raw material A1 , A2 represent the agent from last model
\item the operating unit A1 R1 represent the relation between an A1 and R1 
in Mas before the transformation its the same for other entities like this one
\item the operating unit and material named A2 R2 G2 represent agent A2 Playing R2 in order to achieve G2 , it is the same for other entities  
\end{itemize}

\begin{figure}[th]
	\centering
 	\includegraphics[scale=0.5]{chapiter3/img/ex1pns}
	\caption{\label{fig:Multi Agent System After transformation }Multi Agent System After transformation}
\end{figure} 


% now we have the MaS in PNS Form 
% and there Tools called PGraphStudio
%
%
